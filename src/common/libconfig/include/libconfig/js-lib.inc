R"(
import*as e from"catter-c";import{stdout_print as t,os_name as r,os_arch as n,fs_exists as i,fs_is_file as o,fs_is_dir as s,fs_pwd as c,fs_list_dir as a,fs_create_dir_recursively as l,fs_remove_recursively as d,fs_rename_if_exists as f,fs_path_filename as u,fs_path_relative_to as _,fs_path_extension as h,fs_path_ancestor_n as p,fs_path_absolute as w,fs_path_join_all as m}from"catter-c";function g(e,t){e||t()}var k,E=Object.freeze({__proto__:null,assert_do:g,assert_print:function(e){g(e,()=>{t("assertion failed!")})},assert_throw:function(e){g(e,()=>{throw new Error("assertion failed!")})}});function S(t,r){switch(r){case"red":e.stdout_print_red(t);break;case"yellow":e.stdout_print_yellow(t);break;case"blue":e.stdout_print_blue(t);break;case"green":e.stdout_print_green(t)}}!function(e){e[e.SET=0]="SET",e[e.CUR=1]="CUR",e[e.END=2]="END"}(k||(k={}));class b{constructor(t){this.fd=e.file_open(t)}close(){e.file_close(this.fd)}seekWrite(t,r){e.file_seek_write(this.fd,t,r)}seekRead(t,r){e.file_seek_read(this.fd,t,r)}read(t){if(t<0)throw new TypeError("n must be positive");if(0==t)return new Uint8Array(0);const r=new ArrayBuffer(t),n=e.file_read_n(this.fd,t,r);return new Uint8Array(r,0,n)}readBuf(t){return e.file_read_n(this.fd,t.length,t.buffer)}write(t){e.file_write_n(this.fd,t.length,t.buffer)}append(e){this.seekWrite(0,k.END),this.write(e)}file_size(){const t=e.file_tell_read(this.fd);this.seekRead(0,k.END);const r=e.file_tell_read(this.fd);return this.seekRead(t,k.SET),r}tellRead(){return e.file_tell_read(this.fd)}tellWrite(){return e.file_tell_write(this.fd)}readEntireFile(){const e=this.file_size();return this.seekRead(0,k.SET),this.read(e)}static with(e,t){const r=new b(e);try{t(r)}catch(e){throw r.close(),e}r.close()}}const U={write(e,t){e.write(this.encode(t))},readUntil(e,t,r=32){const n=null!==t?t.charCodeAt(0):-1;let i="";const o=new Uint8Array(r);for(;;){const t=e.readBuf(o);for(let r=0;r<t;r++){const s=o[r];if(s===n)return e.seekRead(r-t+1,k.CUR),i;i+=String.fromCharCode(s)}if(t<r)break}return i},read(e,t){const r=e.read(t);return this.decode(r)},decode:function(e){return String.fromCharCode(...e)},encode:function(e){return new Uint8Array([...e].map(e=>e.charCodeAt(0)))}};class y{constructor(e,t="ascii"){if(this.fileStream=new b(e),!y.supportedEncodings.includes(t))throw new TypeError("Unsupported encoding: "+t);this.encodingImpl=y.encodingImpls[t]}close(){this.fileStream.close()}write(e){this.encodingImpl.write(this.fileStream,e)}read(e){return this.encodingImpl.read(this.fileStream,e)}readUntil(e){return this.encodingImpl.readUntil(this.fileStream,e,32)}append(e){this.fileStream.seekWrite(0,k.END),this.write(e)}readLine(){return this.readUntil("\n")}readEntireFile(){const e=this.fileStream.readEntireFile();return this.encodingImpl.decode(e)}readLines(){const e=[];for(;;){const t=this.readLine();if(""===t)break;e.push(t)}return e}static with(e,t,r){const n=new y(e,t);try{r(n)}catch(e){throw n.close(),e}n.close()}}y.supportedEncodings=["ascii"],y.encodingImpls={ascii:U};var A=Object.freeze({__proto__:null,FileStream:b,get SeekWhence(){return k},TextFileStream:y,coloredPrint:S,coloredPrintln:function(e,t){return S(e+"\n",t)},print:function(t){e.stdout_print(t)},println:function(t){e.stdout_print(t+"\n")}});var C=Object.freeze({__proto__:null,arch:function(){return n()},dir_sep:function(){return"windows"===r()?"\\":"/"},platfrom:function(){return r()}});function R(e){return s(e)}const v={joinAll:(...e)=>m(e),absolute:e=>w(e),to_ancestor:(e,t=1)=>p(e,t),extension:e=>h(e),relative_to:(e,t)=>_(e,t),filename:e=>u(e)};var I=Object.freeze({__proto__:null,createFile:function(e,t=!0){return(t||!!R(v.to_ancestor(e)))&&(l(v.to_ancestor(e)),!0)},exists:function(e){return i(e)},is_dir:R,is_file:function(e){return o(e)},mkdir:function(e,t=!0){return(t||!!R(v.to_ancestor(e)))&&(l(e),!0)},path:v,pwd:function(){return c()},readDirs:function(e){return a(e)},removeAll:function(e){return d(e)},rename:function(e,t){return f(e,t)}});export{E as debug,I as fs,A as io,C as os};

)"
