R"(
import*as e from"catter-c";import{stdout_print as t,os_name as r,os_arch as n,fs_exists as i,fs_is_file as o,fs_is_dir as s,fs_pwd as c,fs_list_dir as l,fs_create_dir_recursively as a,fs_create_empty_file_recursively as d,fs_remove_recursively as f,fs_rename_if_exists as u,fs_path_filename as h,fs_path_relative_to as _,fs_path_extension as p,fs_path_ancestor_n as w,fs_path_absolute as m,fs_path_join_all as g}from"catter-c";function k(e,t){e||t()}var E,S=Object.freeze({__proto__:null,assertDo:k,assertPrint:function(e){k(e,()=>{t("assertion failed!")})},assertThrow:function(e){k(e,()=>{throw new Error("assertion failed!")})}});function b(t,r){switch(r){case"red":e.stdout_print_red(t);break;case"yellow":e.stdout_print_yellow(t);break;case"blue":e.stdout_print_blue(t);break;case"green":e.stdout_print_green(t)}}!function(e){e[e.SET=0]="SET",e[e.CUR=1]="CUR",e[e.END=2]="END"}(E||(E={}));class A{constructor(t){this.fd=e.file_open(t)}close(){e.file_close(this.fd)}seekWrite(t,r){e.file_seek_write(this.fd,t,r)}seekRead(t,r){e.file_seek_read(this.fd,t,r)}read(t){if(t<0)throw new TypeError("n must be positive");if(0==t)return new Uint8Array(0);const r=new ArrayBuffer(t),n=e.file_read_n(this.fd,t,r);return new Uint8Array(r,0,n)}readBuf(t){return e.file_read_n(this.fd,t.length,t.buffer)}write(t){e.file_write_n(this.fd,t.length,t.buffer)}append(e){this.seekWrite(0,E.END),this.write(e)}file_size(){const t=e.file_tell_read(this.fd);this.seekRead(0,E.END);const r=e.file_tell_read(this.fd);return this.seekRead(t,E.SET),r}tellRead(){return e.file_tell_read(this.fd)}tellWrite(){return e.file_tell_write(this.fd)}readEntireFile(){const e=this.file_size();return this.seekRead(0,E.SET),this.read(e)}static with(e,t){const r=new A(e);try{t(r)}catch(e){throw r.close(),e}r.close()}}const U={write(e,t){e.write(this.encode(t))},readUntil(e,t,r=32){const n=null!==t?t.charCodeAt(0):-1;let i="";const o=new Uint8Array(r);for(;;){const t=e.readBuf(o);for(let r=0;r<t;r++){const s=o[r];if(s===n)return e.seekRead(r-t+1,E.CUR),i;i+=String.fromCharCode(s)}if(t<r)break}return i},read(e,t){const r=e.read(t);return this.decode(r)},decode:function(e){return String.fromCharCode(...e)},encode:function(e){return new Uint8Array([...e].map(e=>e.charCodeAt(0)))}};class y{constructor(e,t="ascii"){if(this.fileStream=new A(e),!y.supportedEncodings.includes(t))throw new TypeError("Unsupported encoding: "+t);this.encodingImpl=y.encodingImpls[t]}close(){this.fileStream.close()}write(e){this.encodingImpl.write(this.fileStream,e)}read(e){return this.encodingImpl.read(this.fileStream,e)}readUntil(e){return this.encodingImpl.readUntil(this.fileStream,e,32)}append(e){this.fileStream.seekWrite(0,E.END),this.write(e)}readLine(){return this.readUntil("\n")}readEntireFile(){const e=this.fileStream.readEntireFile();return this.encodingImpl.decode(e)}readLines(){const e=[];for(;;){const t=this.readLine();if(""===t)break;e.push(t)}return e}static with(e,t,r){const n=new y(e,t);try{r(n)}catch(e){throw n.close(),e}n.close()}}y.supportedEncodings=["ascii"],y.encodingImpls={ascii:U};var C=Object.freeze({__proto__:null,FileStream:A,get SeekWhence(){return E},TextFileStream:y,coloredPrint:b,coloredPrintln:function(e,t){return b(e+"\n",t)},print:function(t){e.stdout_print(t)},println:function(t){e.stdout_print(t+"\n")}});var R=Object.freeze({__proto__:null,arch:function(){return n()},dir_sep:function(){return"windows"===r()?"\\":"/"},platfrom:function(){return r()}});function T(e){return s(e)}const D={joinAll:(...e)=>g(e),absolute:e=>m(e),toAncestor:(e,t=1)=>w(e,t),extension:e=>p(e),relativeTo:(e,t)=>_(e,t),filename:e=>h(e)};var v=Object.freeze({__proto__:null,createFile:function(e,t=!0){return(t||!!T(D.toAncestor(e)))&&(d(e),!0)},exists:function(e){return i(e)},isDir:T,isFile:function(e){return o(e)},mkdir:function(e,t=!0){return(t||!!T(D.toAncestor(e)))&&(a(e),!0)},path:D,pwd:function(){return c()},readDirs:function(e){return l(e)},removeAll:function(e){return f(e)},rename:function(e,t){return u(e,t)}});export{S as debug,v as fs,C as io,R as os};

)"
